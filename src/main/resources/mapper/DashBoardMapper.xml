<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.meta.mapper.DashBoardMapper">
    <select id="getListData" parameterType="com.meta.dto.DashBoardDto" resultType="com.meta.dto.DashBoardDto">

        SELECT SE, ID, KOR_NM, ENG_NM, EXPLN, STAT, CRT_ID, CRT_DTTM
        FROM (
            SELECT  '1'  AS SE
            , ID
            , TRM_NM  AS KOR_NM
            , ENG_NM  AS ENG_NM
            , TRM_EXPLN AS EXPLN
            , STAT
            , CRT_ID
            , date_format(CRT_DTTM, '%Y-%m-%d %H:%i:%s') AS CRT_DTTM
            FROM tb_term_dictionary
            WHERE STAT = #{stat}
            <if test="crtId != null and crtId != ''">
                AND CRT_ID = #{crtId}
            </if>

            UNION ALL

            SELECT  '2'      AS SE
            , ID
            , WORD_NM  AS KOR_NM
            , ENG_ABBR_NM  AS ENG_NM
            , EXPLN AS EXPLN
            , STAT
            , CRT_ID
            , date_format(CRT_DTTM, '%Y-%m-%d %H:%i:%s') AS CRT_DTTM
            FROM tb_word_dictionary
            WHERE STAT = #{stat}
            <if test="crtId != null and crtId != ''">
                AND CRT_ID = #{crtId}
            </if>
        ) Z
        WHERE 1=1
        <if test="se != null and se != ''">
            AND SE = #{se}
        </if>

    </select>


</mapper>
